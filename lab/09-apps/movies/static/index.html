<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>IMDb</title>
</head>
<body>
    <h1>Welcome to the IMDb best movies sentiment analysis</h1>

    <p>Please enter your movie comment here:</p>
    <textarea id="comment"></textarea> <br />
    <button onclick="predict()">Predict</button>

    <h3>Result</h3>
    The prediction value is between 0 (very poor) and 1 (very good) movie:<br />
    <input id="result" readonly="readonly" style="background-color: darkseagreen; border: none">



    <script>
        function predict() {
            var comment = document.getElementById("comment").value
            var payload = JSON.stringify({
                comment: comment
            })

            var xhr = new XMLHttpRequest();
            xhr.open("POST", "/predict", true);
            xhr.setRequestHeader('Content-Type', 'application/json');
            xhr.send(payload);

            xhr.onload = function() {
                var response = JSON.parse(this.responseText);
                var probability = response['probability'];
                document.getElementById("result").value = probability
            }
        }
    </script>


</body>
</html>